{"ast":null,"code":"var _jsxFileName = \"/Volumes/Transcend/react/my-portfolio/src/d3/HorizontalBarChart.js\",\n    _s = $RefreshSig$();\n\nimport { useD3 } from \"../hooks/useD3\";\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst width = 200;\nconst height = 120;\n\nfunction HorizontalBarChart(_ref) {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const ref = useD3(svg => {\n    //   const margin = { top: 10, right: 30, bottom: 30, left: 40 };\n    const margin = {\n      top: 80,\n      right: 50,\n      bottom: 60,\n      left: 200\n    };\n    const plotHeight = height - margin.top - margin.bottom;\n    const plotWidth = width - margin.left - margin.right;\n    svg.attr(\"height\", height).attr(\"width\", width).attr(\"x\", 0).attr(\"y\", 0).attr(\"preserveAspectRatio\", \"xMinYMin meet\").attr(\"viewBox\", \"0 0 200 120\").classed(\"svg-content\", true);\n    const plotOutline = svg.append(\"rect\").attr(\"x\", margin.left).attr(\"y\", margin.top).attr(\"height\", plotHeight).attr(\"width\", plotWidth).style(\"fill\", \"#00AFDB\");\n    const scaleX = d3.scaleBand().domain(data.map(d => d.year)).range([0, plotWidth]);\n    const y1 = d3.scaleLinear().domain([0, d3.max(data, d => d.sales)]).rangeRound([height - margin.bottom, margin.top]);\n\n    const xAxis = g => g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).tickValues(d3.ticks(...d3.extent(x.domain()), width / 40).filter(v => x(v) !== undefined)).tickSizeOuter(0));\n\n    const y1Axis = g => g.attr(\"transform\", `translate(${margin.left},0)`).style(\"color\", \"steelblue\").call(d3.axisLeft(y1).ticks(null, \"s\")).call(g => g.select(\".domain\").remove()).call(g => g.append(\"text\").attr(\"x\", -margin.left).attr(\"y\", 10).attr(\"fill\", \"currentColor\").attr(\"text-anchor\", \"start\").text(data.y1));\n\n    svg.select(\".x-axis\").call(xAxis);\n    svg.select(\".y-axis\").call(y1Axis);\n    var tooltip = d3.select(\".tooltip-area\").style(\"opacity\", 0);\n    svg.select(\".plot-area\").attr(\"fill\", \"steelblue\").selectAll(\".bar\").data(data).join(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x(d.year)).attr(\"width\", x.bandwidth()).attr(\"y\", d => y1(d.sales)).attr(\"height\", d => y1(0) - y1(d.sales)).append(\"title\").text(d => `Sales were ${d.sales} in ${d.year}`);\n  }, [data.length]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: ref,\n      viewBox: `0 0 ${height} ${width}`,\n      preserveAspectRatio: \"xMinYMin meet\",\n      children: [/*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"plot-area\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"x-axis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"y-axis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n        className: \"tooltip-area\",\n        children: /*#__PURE__*/_jsxDEV(\"text\", {\n          className: \"tooltip-area__text\",\n          children: \"aas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(HorizontalBarChart, \"r127xTdrGuIqcYXTmMbvPxoKAyo=\", false, function () {\n  return [useD3];\n});\n\n_c = HorizontalBarChart;\nexport default HorizontalBarChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"HorizontalBarChart\");","map":{"version":3,"sources":["/Volumes/Transcend/react/my-portfolio/src/d3/HorizontalBarChart.js"],"names":["useD3","React","d3","width","height","HorizontalBarChart","data","ref","svg","margin","top","right","bottom","left","plotHeight","plotWidth","attr","classed","plotOutline","append","style","scaleX","scaleBand","domain","map","d","year","range","y1","scaleLinear","max","sales","rangeRound","xAxis","g","call","axisBottom","x","tickValues","ticks","extent","filter","v","undefined","tickSizeOuter","y1Axis","axisLeft","select","remove","text","tooltip","selectAll","join","bandwidth","length"],"mappings":"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","sourcesContent":["import { useD3 } from \"../hooks/useD3\";\nimport React from \"react\";\nimport * as d3 from \"d3\";\n\nconst width = 200;\nconst height = 120;\n\nfunction HorizontalBarChart({ data }) {\n  const ref = useD3(\n    (svg) => {\n      //   const margin = { top: 10, right: 30, bottom: 30, left: 40 };\n      const margin = { top: 80, right: 50, bottom: 60, left: 200 };\n      const plotHeight = height - margin.top - margin.bottom;\n      const plotWidth = width - margin.left - margin.right;\n\n      svg\n        .attr(\"height\", height)\n        .attr(\"width\", width)\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n        .attr(\"viewBox\", \"0 0 200 120\")\n        .classed(\"svg-content\", true);\n\n        const plotOutline = svg\n        .append(\"rect\")\n        .attr(\"x\", margin.left)\n        .attr(\"y\", margin.top)\n        .attr(\"height\", plotHeight)\n        .attr(\"width\", plotWidth)\n        .style(\"fill\", \"#00AFDB\")\n\n      const scaleX = d3\n        .scaleBand()\n        .domain(data.map((d) => d.year))\n        .range([0, plotWidth])\n\n      const y1 = d3\n        .scaleLinear()\n        .domain([0, d3.max(data, (d) => d.sales)])\n        .rangeRound([height - margin.bottom, margin.top]);\n\n      const xAxis = (g) =>\n        g.attr(\"transform\", `translate(0,${height - margin.bottom})`).call(\n          d3\n            .axisBottom(x)\n            .tickValues(\n              d3\n                .ticks(...d3.extent(x.domain()), width / 40)\n                .filter((v) => x(v) !== undefined)\n            )\n            .tickSizeOuter(0)\n        );\n\n      const y1Axis = (g) =>\n        g\n          .attr(\"transform\", `translate(${margin.left},0)`)\n          .style(\"color\", \"steelblue\")\n          .call(d3.axisLeft(y1).ticks(null, \"s\"))\n          .call((g) => g.select(\".domain\").remove())\n          .call((g) =>\n            g\n              .append(\"text\")\n              .attr(\"x\", -margin.left)\n              .attr(\"y\", 10)\n              .attr(\"fill\", \"currentColor\")\n              .attr(\"text-anchor\", \"start\")\n              .text(data.y1)\n          );\n\n      svg.select(\".x-axis\").call(xAxis);\n      svg.select(\".y-axis\").call(y1Axis);\n\n      var tooltip = d3.select(\".tooltip-area\").style(\"opacity\", 0);\n\n      svg\n        .select(\".plot-area\")\n        .attr(\"fill\", \"steelblue\")\n        .selectAll(\".bar\")\n        .data(data)\n        .join(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", (d) => x(d.year))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"y\", (d) => y1(d.sales))\n        .attr(\"height\", (d) => y1(0) - y1(d.sales))\n        .append(\"title\")\n        .text((d) => `Sales were ${d.sales} in ${d.year}`);\n    },\n    [data.length]\n  );\n\n  return (\n    <>\n      <svg\n        ref={ref}\n        viewBox={`0 0 ${height} ${width}`}\n        preserveAspectRatio=\"xMinYMin meet\"\n      >\n        <g className=\"plot-area\" />\n        <g className=\"x-axis\" />\n        <g className=\"y-axis\" />\n        <g className=\"tooltip-area\">\n          <text className=\"tooltip-area__text\">aas</text>\n        </g>\n      </svg>\n    </>\n  );\n}\n\nexport default HorizontalBarChart;\n"]},"metadata":{},"sourceType":"module"}